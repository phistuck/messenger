 var messages = [];
 function save_message_now(timestamp, sender, content)
 {
  messages.push({"timestamp": timestamp, "sender": sender, "content": content + messages.length});
 }
 var timestamp, sender, content;
 timestamp = "2011-10-15 09:20:29", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 09:24:58", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 10:20:36", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 10:24:53", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 10:28:02", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 10:29:59", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 10:33:20", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 10:34:41", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 14:21:26", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 14:21:35", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 14:22:04", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 15:14:55", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 15:14:58", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 23:03:24", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 23:04:03", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 23:05:25", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 23:07:21", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 23:08:23", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-15 23:12:08", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-16 23:12:47", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-24 22:45:06", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-25 22:52:19", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-25 23:00:52", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-25 23:01:05", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-29 13:19:36", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-29 14:20:21", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-29 14:21:51", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-10-29 14:22:06", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:52:00", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:52:12", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:52:35", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:52:37", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:52:47", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:52:54", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:53:09", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:53:17", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:53:50", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:53:54", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:53:57", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-08 22:54:01", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 13:22:19", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 16:54:07", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 16:54:35", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 16:55:01", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 16:55:15", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 16:55:27", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:11:22", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:11:26", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:11:29", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:11:49", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:11:57", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:12:13", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:53:30", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:53:56", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:55:09", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:55:14", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:55:28", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:58:19", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 18:59:24", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:32:00", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:32:06", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:32:33", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:32:37", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:32:41", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:32:56", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:33:05", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:33:15", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-11 19:33:21", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-12 18:23:05", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-12 19:25:22", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 20:58:50", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 20:58:55", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:00:15", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:00:26", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:00:34", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:00:41", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:00:53", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:01:08", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:01:12", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-14 21:03:38", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-19 14:50:56", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-19 14:52:35", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-19 14:53:06", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-19 18:25:59", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-19 18:58:48", sender = "foo", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:30:37", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:30:47", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:30:55", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:31:10", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:32:16", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:32:48", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-21 20:57:26", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
 timestamp = "2011-11-25 12:38:25", sender = "baz", content = "message";
 save_message_now(timestamp, sender, content);
var request = new XMLHttpRequest();
request.open("post", "/restore?remove-everything=1", true);
request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
request.send("messages=" + JSON.stringify(messages));